# AXENIX_test_task
тестовое задание от AXENIX




Сделайте скрипт исполняемым:
chmod +x run_all.sh

Запустите скрипт:
./run_all.sh


Вводная часть
Требуется периодическая проверка контрагентов-юридических лиц в системе электронного документооборота, на предмет блокировки недобросовестных поставщиков.
Система построена на базе MSSql. Все данные по контрагентам хранятся в 3х таблицах:
1.	Контрагенты
a.	Наименование
b.	ИНН
c.	КПП
d.	Регион ИД
e.	Населенный пункт ИД
f.	Статус

2.	Регионы
a.	ИД
b.	Наименование региона
c.	Код региона

3.	Населенные пункты
a.	ИД
b.	Наименование населенного пункта
c.	Наименование региона

Наполнение таблиц самостоятельно, произвольными данными. Например, информацию по контрагентам можно взять с сайта: https://www.list-org.com/

Требования:
1.	Создание структуры таблиц БД аналогично описанной структуре (можно использовать любой инструмент)
2.	Осуществить проверку является ли поставщик недобросовестным – через сайт: https://ofdata.ru/api  
3.	Заблокировать недобросовестных поставщиков – установить статус контрагента в Deactive
4.	*Разблокировать добросовестных поставщиков – установить статус контрагента в Active
5.	Добавить всех недобросовестных поставщиков в excel-файл в следующем формате:
Код региона,	Наименование населенного пункта,	ФИО контрагента,	ИНН,	Дата блокировки
6.	*Направить Excel файл ответственному сотруднику по email.

дополнительные задачки. Выполнение по желанию


## В проекте использовались технологии:

- Python 3.10.0
- SQlite3
- Django==4.2
- djangorestframework==3.14.0
- xlwt==1.3.0
- redis==5.0.7
- celery==5.4.0
- requests==2.31.0

### Как запустить проект:

Клонируйте репозиторий и перейдите к нему в командной строке:

    git clone git@github.com:smoke-m/AXENIX_test_task.git

    cd AXENIX_test_task

Создайте и активируйте venv:

    python -m venv env
    source venv/Scripts/activate

Установите зависимости из файла requirements.txt:

    python -m pip install --upgrade pip
    pip install -r requirements.txt

Создайте и выполните миграции:

    python manage.py makemigrations
    python manage.py migrate

Сделайте скрипт исполняемым:

    chmod +x run_all.sh

Запуск:

    ./run_all.sh

### Небольшое дополнение к заданию:

- добавлен ендпоинт для получения таблицы.

Отправте POST запрос на апи сервиса с "email" в body:

    api/contractors/test_action/
    JSON: {"email": "admin@yandex.ru"}
